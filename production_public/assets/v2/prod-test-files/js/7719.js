"use strict";(self.webpackChunkwebpackNumbers=self.webpackChunkwebpackNumbers||[]).push([[7719],{5866:(e,t,i)=>{var s=i(9755),o=i(5862),a=i(8393),r=(i(686),function(e,t,i,s){var o,a=arguments.length,r=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r}),n=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends o.oi{constructor(){super(...arguments),this.name="",this.label="",this.value=[],this.randomID=Math.floor(12345*Math.random()),this.input_id=this.id+"_"+this.randomID,this.options=[],this.ajaxFetchToken="",this.ajaxFetchUrl=null,this._ajaxHeader=null,this.ajaxFetchProcessResponse=null,this.ajaxFetchUrlParams=[],this.startSearchPage=0,this.startNumber=10,this.rowsPerPage=10,this.totalShowing=10,this.showSelectorLoaded=!1}set ajaxHeader(e){this._ajaxHeader=e,this.requestUpdate()}get ajaxHeader(){return this._ajaxHeader}connectedCallback(){super.connectedCallback(),this.value=Array.isArray(this.value)?this.value:[],setInterval((()=>{void 0===this.selectSelector?(this.selectSelector=document.querySelectorAll("select-input>select[input_id="+this.input_id+"]"),this.$selectSelector=s(this.selectSelector)):this.showDropdownAlt()})),this.options=this.options.map((e=>{const t=e.id;let i=!1;return this.value.forEach((e=>{const s=e.id;i=t===s})),e.selected=i,e}))}render(){return this.multiple?this.required?o.dy`
          <select input_id="${this.input_id}" id="${this.id}" name="${this.name}[]" placeholder="${this.label}" multiple required>
            ${this.options.map((e=>{const t=void 0===e.isSelected?e.selected:e.isSelected;return!0===t||"true"===t?o.dy`
                  <option value="${e.id}" selected>${e.name}</option>
                `:o.dy`
                  <option value="${e.id}">${e.name}</option>
                `}))}
          </select>
        `:o.dy`
          <select input_id="${this.input_id}" id="${this.id}" name="${this.name}[]" placeholder="${this.label}" multiple>
            ${this.options.map((e=>{const t=void 0===e.isSelected?e.selected:e.isSelected;return!0===t||"true"===t?o.dy`
                  <option value="${e.id}" selected>${e.name}</option>
                `:o.dy`
                  <option value="${e.id}">${e.name}</option>
                `}))}
          </select>
        `:this.required?o.dy`
          <select input_id="${this.input_id}" id="${this.id}" name="${this.name}" placeholder="${this.label}" required>
            ${this.options.map((e=>{const t=void 0===e.isSelected?e.selected:e.isSelected;return!0===t||"true"===t?o.dy`
                  <option value="${e.id}" selected>${e.name}</option>
                `:o.dy`
                  <option value="${e.id}">${e.name}</option>
                `}))}
          </select>
        `:o.dy`
          <select input_id="${this.input_id}" id="${this.id}" name="${this.name}" placeholder="${this.label}">
            ${this.options.map((e=>{const t=void 0===e.isSelected?e.selected:e.isSelected;return!0===t||"true"===t?o.dy`
                  <option value="${e.id}" selected>${e.name}</option>
                `:o.dy`
                  <option value="${e.id}">${e.name}</option>
                `}))}
          </select>
        `}firstUpdated(){}formatRepo(e){return e.loading?e.text:s(this.value.map((t=>{const i=Number(e.id)===t.id?"selected='true'":"";return'<option value="'+e.id+'" '+i+">"+e.text+"</option>"})))}formatRepoSelection(e){return e.full_name||e.text}_start(e,t){const i=this;return this.startSearchPage=isNaN(e.page)?0:e.page,this.startSearchPage=0===this.startSearchPage?this.startSearchPage:this.startSearchPage*t,s(".select2-search__field").on("keyup",(function(e){s(i.selectSelector).empty(),i.startSearchPage=0})),i.startSearchPage}showDropdownAlt(){const e=this;let t=this.totalShowing,i=this.startSearchPage;if(!1===this.showSelectorLoaded){if(this.showSelectorLoaded=!0,null===this.ajaxFetchUrl)this.selectSelector.forEach((e=>{s(e).select2({closeOnSelect:!1,placeholder:this.label}),s(e).on("select2:select",(e=>{this.changeAction(e)}))}));else{let o={"Access-Control-Allow-Origin":"*/*",Accept:"application/json, text/plain, */*","Content-Type":"application/json"};for(const e in this.ajaxHeader)o[e]=this.ajaxHeader[e];this.selectSelector.forEach((a=>{s(a).select2({closeOnSelect:!1,ajax:{url:e.ajaxFetchUrl,dataType:"json",delay:250,data:function(o){const a=function(o,a){return i=isNaN(o.page)?0:o.page,i=0===i?i:i*t,s(".select2-search__field").on("keyup",(function(o){s(e.selectSelector).empty(),i=0,t=0})),i}(o),r=function(i,o){let a=isNaN(i.page)?1:i.page+1;return a=0===a?1:a,s(".select2-search__field").on("keyup",(function(i){s(e.selectSelector).empty(),a=0,t=0})),a}(o);let n={search:o.term,start:a,page:r};return e.ajaxFetchUrlParams.forEach((e=>{n[e.param]=e.value})),n},headers:o,processResults:(e,i)=>{const s=null===this.ajaxFetchProcessResponse?this._processResults(e,i):this.ajaxFetchProcessResponse(e,i);return t+=s.results.length,{results:s.results,pagination:{more:t<s.total}}},cache:!0},placeholder:this.label}).on("select2:opening",(e=>{i=0,t=0}))}))}this.querySelectorAll(".select2-container").forEach((e=>{e.setAttribute("style","width: 100% !important; pointer-events: auto !important;")}))}}_processResults(e,t){const i=e;t.page=t.page||0;let s=[];if(!1===i.error){var o=i.data;for(let e=0;e<o.length;e++){const t=o[e],i={id:t.id,text:t.fullName};s.includes(i)||s.push(i)}}return this.totalShowing+=s.length,{results:s,total:i.total,totalShowing:this.totalShowing}}changeAction(e){const t=this.querySelector(`[input_id="${this.input_id}"]`).selectedOptions;let i=[];for(const e of t){let t=e;const s=Number.isNaN(t.value)?0:Number(t.value);i.includes(s)||i.push(s)}this.currentValue=i,this.querySelector(`[input_id="${this.input_id}"]`).setAttribute("currentValue",i)}createRenderRoot(){return this}};l.styles=[o.iv`
      .select2-container {
        pointer-events: auto !important;
      }
    `],r([(0,a.Cb)({type:String}),n("design:type",String)],l.prototype,"name",void 0),r([(0,a.Cb)({type:String}),n("design:type",String)],l.prototype,"label",void 0),r([(0,a.Cb)({type:Array}),n("design:type",Array)],l.prototype,"value",void 0),r([(0,a.Cb)({type:Number}),n("design:type",Number)],l.prototype,"randomID",void 0),r([(0,a.Cb)({type:String}),n("design:type",String)],l.prototype,"input_id",void 0),r([(0,a.Cb)({type:Array}),n("design:type",Array)],l.prototype,"options",void 0),r([(0,a.Cb)({type:Boolean}),n("design:type",Boolean)],l.prototype,"required",void 0),r([(0,a.Cb)({type:String}),n("design:type",String)],l.prototype,"ajaxFetchToken",void 0),r([(0,a.Cb)({type:String}),n("design:type",String)],l.prototype,"ajaxFetchUrl",void 0),r([(0,a.Cb)({attribute:!1}),n("design:type",Object)],l.prototype,"currentValue",void 0),r([(0,a.Cb)({type:Object}),n("design:type",Function)],l.prototype,"ajaxFetchProcessResponse",void 0),r([(0,a.Cb)({type:Array}),n("design:type",Array)],l.prototype,"ajaxFetchUrlParams",void 0),r([(0,a.Cb)({type:Number}),n("design:type",Number)],l.prototype,"startSearchPage",void 0),r([(0,a.Cb)({type:Boolean}),n("design:type",Boolean)],l.prototype,"multiple",void 0),r([(0,a.Cb)({type:Number}),n("design:type",Number)],l.prototype,"startNumber",void 0),r([(0,a.Cb)({type:Number}),n("design:type",Number)],l.prototype,"rowsPerPage",void 0),r([(0,a.Cb)({type:Number}),n("design:type",Number)],l.prototype,"totalShowing",void 0),r([(0,a.Cb)({type:Boolean}),n("design:type",Boolean)],l.prototype,"showSelectorLoaded",void 0),l=r([(0,a.Mo)("select-input")],l)},7108:(e,t,i)=>{i.d(t,{W:()=>s});const s={schedule_meeting_event:40,clocking:41,attendance_history:42,attendees:43,absentees:44,device_request_approval:45,absent_leave_status:58,absent_leave_assignment:59}}}]);
//# sourceMappingURL=7719.js.map