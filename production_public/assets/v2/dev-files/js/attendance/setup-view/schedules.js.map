{"version":3,"file":"../../production_public/assets/v2/dev-files/js/attendance/setup-view/schedules.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAwB,eAAID,IAE5BD,EAAqB,eAAIC,GAC1B,CATD,CASGK,MAAM,K,qoBCHT,MAWaC,EAAc,CAAOC,EAAeC,EAAcC,IAA2B,OAAD,6BACvF,MAAMC,EAAM,EAAAC,UAAUC,KAAKC,qBAAuB,uBAChDC,EAAaL,EACbM,GAAQ,IAAAC,YAAWF,GAEnBG,EADWC,KAAKC,UAAU,CAAE,OAAS,IAAAC,cAAaL,KAMpD,GArBsB,CAACM,IACvB,MAAMC,EAAM,IAAIC,KAIhB,OAHuBC,KAAKC,IAAIJ,EAAKK,UAAYJ,EAAII,WACV,KAEnB,E,EAcJC,CAFD,IAAIJ,MAAK,IAAAP,YAAWF,EAAa,WAsBlD,OAAOC,QAjBD,IAAAa,MAAKlB,EAAK,CACdmB,OAAQ,OACRC,KAAMb,IACL,GAAMc,MAAYC,GAAa,OAAD,6BAE/B,GAAIA,EAASC,SAASlB,MAAQiB,EAASC,SAASC,KAAOF,EAASC,SAASE,OAAQ,CAE/E,MAAMpB,GAAQ,IAAAqB,cAAaC,OAAOL,EAASC,SAASlB,SACpD,IAAAuB,aAAYxB,EAAYC,EAAO,KAC/B,IAAAwB,qBAAoBzB,EAAa,SAAS,IAAIS,MAAOiB,cAAe,G,YAI9DC,EAAiBlC,EAAOC,EAAMC,EAExC,KAIJ,IAEMgC,EAAmB,CAAOlC,EAAeC,EAAcC,IAA2B,OAAD,6BACrF,MAAMC,EAAM,EAAAC,UAAUC,KAAKC,qBAAuB,mBAChDC,EAAaL,EAEbQ,EADWC,KAAKC,UAAU,CAAE,MAASZ,EAAO,GAAMC,UAG9C,IAAAoB,MAAKlB,EAAK,CACdmB,OAAQ,OACRC,KAAMb,IACL,GAAMc,MAAMC,IAEb,GAAIA,EAASC,SAASlB,MAAO,CAC3B,MAAMA,GAAQ,IAAAqB,cAAaC,OAAOL,EAASC,SAASlB,SACpD,IAAAuB,aAAYxB,EAAYC,EAAO,KAC/B,IAAAwB,qBAAoBzB,EAAa,SAAS,IAAIS,MAAOiB,cAAe,G,IAK1E,IACaE,EAAa,CAAOnC,EAAeoC,EAAYlC,IAA2B,OAAD,6BACpF,MAAMD,GAAO,IAAA4B,cAAaC,OAAOM,IAC/B7B,EAAaL,EAIfmC,OAAoB,YAAI,CAAEC,WAAY,CAAEC,IAAK,CAAEvC,MAAOA,EAAOoC,GAAInC,EAAMM,WAAYA,KAIhE,KAHC,IAAAE,YAAWF,SAIvB2B,EAAiBlC,EAAOC,EAAMC,SAE9BH,EAAYC,EAAOC,EAAMC,EAEnC,G,gJCpFO,MAAMsC,EAAiB,KAC5B,MAAMC,EAAkB,IAAIC,gBAAgBL,OAAOM,SAASC,QAG5D,OAFeC,OAAOC,YAAYL,EAAgBM,UAErC,EAEFC,EAAqBC,IAChC,MAAMR,EAAkB,IAAIC,gBAAgBL,OAAOM,SAASC,QACtDM,EAASL,OAAOC,YAAYL,EAAgBM,WAClD,IAAII,EAAgB,KACpB,IAAK,MAAMC,KAAOF,EACZE,IAAQH,IACVE,EAAQD,EAAOE,IAGnB,OAAOD,CAAK,EAEDE,EAAwBJ,GACX,IAAIP,gBAAgBL,OAAOM,SAASC,QAC7BU,OAAOL,GAI3BM,EAAsBC,IAGjC,IAAIC,EAAiB,GACjBC,EAAQ,EACZ,IAAK,MAAMN,KAAOI,EAChBE,GAAS,EACTD,GAAU,GAAIC,EAAQ,EAAK,IAAK,KAAKN,KAAOI,EAAOJ,KAErD,OAAOK,CAAM,C,+3BCpBR,IAAME,EAAN,cAA8B,EAAAC,WACnC,WAAAC,GAAgBC,QAGT,KAAAJ,MAAiB,EAQhB,KAAAK,QAA6B,EAAAC,IAAI,GAYlC,KAAAC,WAAsB,EAGtB,KAAAC,QAAmB,EAGnB,KAAAC,QAAmB,IA7BD,CAazB,UAAWC,CAAOjB,GAChBkB,KAAKN,QAAUZ,EACfkB,KAAKC,eACP,CAEA,UAAWF,GACT,OAAOC,KAAKN,OACd,CAWM,iBAAAQ,G,2HACJ,EAAMA,kBAAiB,WAGnBF,KAAKH,OACPG,KAAKF,QAAU,GAEfE,KAAKF,QAAU,IAEnB,G,CAEA,oBAAAK,GAAyB,CAEzB,MAAAC,GACE,OAAO,EAAAT,IAAI;;;YAGHK,KAAKJ,UAAY,EAAAS,QAAU,EAAAV,IAAI;;wBAEnBK,KAAKM;;;YAIjBN,KAAKD;;;KAIf,CAEQ,cAAAO,CAAeC,GACrBA,EAAEC,iBAEFR,KAAKS,QACP,CAEM,YAAAC,G,yCAAgB,G,CAEtB,gBAAAC,GACE,OAAOX,IACT,GApEA,IAAC,IAAAY,UAAS,CAAE/E,KAAMgF,S,qDAoBlB,IAAC,IAAAD,UAAS,CAAE/E,KAAMiF,U,0DAGlB,IAAC,IAAAF,UAAS,CAAE/E,KAAMiF,U,uDAGlB,IAAC,IAAAF,UAAS,CAAE/E,KAAM4B,S,uDA7BP6B,EAAe,IAD3B,IAAAyB,eAAc,oB,2BACFzB,E,uiBCJN,IAAM0B,EAAN,cAA2B,EAAAzB,WAChC,WAAAC,GAAgBC,QAGR,KAAAwB,UAAoBrE,KAAKsE,MAAsB,MAAhBtE,KAAKuE,UAGpC,KAAAC,UAAoBxE,KAAKsE,MAAsB,OAAhBtE,KAAKuE,UAGpC,KAAAE,GAAa,WATI,CAyBzB,QAAWC,CAAKxC,GAEd,IAAIyC,EAASvB,KAAKwB,MAClBxB,KAAKwB,MAAQ1C,EACb2C,QAAQC,IAAI,kBAAmB,CAACH,SAAQzC,UACxCkB,KAAKC,cAAc,OAAQsB,EAC7B,CAEA,QAAWD,GACT,OAAOtB,KAAKwB,KACd,CAgBA,iBAAAtB,GACET,MAAMS,oBAINF,KAAKqB,GAAKrB,KAAKiB,UAAY,IAAMjB,KAAKqB,GAAK,IAAMrB,KAAKoB,SACxD,CAEA,oBAAAjB,GAAyB,CAYzB,MAAAC,GAEE,OAAO,EAAAT,IAAI;uHACwGK,KAAKqB;;;YAGhHrB,KAAK2B;;;;YAIL3B,KAAK4B;;;;YAIL5B,KAAK6B;;;;GAKf,CAEQ,KAAAF,GACN,OAAO,EAAAhC,IAAI;QACPK,KAAK8B,QAAQC,KAAIC,GAGV,EAAArC,IAAI,OAAOqC,EAAKC;KAG7B,CAEQ,KAAAL,GACN,OAAO,EAAAjC,IAAI;QACPK,KAAKkC,QAAQH,KAAII,GAGV,EAAAxC,IAAI,OAAOwC,EAAIJ,KAAIK,GAGjB,EAAAzC,IAAI,OAAOyC,EAAOH;KAIjC,CAEQ,KAAAJ,GACN,OAAO,EAAAlC,IAAI;MACTK,KAAKqC,QAAQN,KAAIO,GACV,EAAA3C,IAAI,OAAO2C,EAAKL;KAG3B,CAEA,YAAAvB,GACE,MAAM6B,EAAQvC,KAAKwC,cAAc,eAAexC,KAAKqB,GAAG,MAExD,GAAmC,iBAAxBrB,KAAKyC,UAAUC,KAAmB,CAC3C,IAAIC,EAAO3C,KAAKyC,UAAUC,KAE1BC,EAAKC,QAAU,CACb,8BAA+B,MAC/B,OAAU,qCAEZ,IAAIC,EAAWF,EAAKC,QAOpB,IAAK,MAAM7D,KAAOiB,KAAK8C,WACrB,GAAItE,OAAOuE,UAAUC,eAAeC,KAAKjD,KAAK8C,WAAY/D,GAAM,CAC9D,MAAMmE,EAAUlD,KAAK8C,WAAW/D,GAChC8D,EAAS9D,GAAOmE,C,CAQpBP,EAAKC,QAAUC,EACf7C,KAAKyC,UAAUC,KAAOC,C,CAMxBQ,EAAEZ,GAAOa,UAAUpD,KAAKyC,UAC1B,CAEA,gBAAA9B,GACE,OAAOX,IACT,GAxGO,EAAAqD,OAAS,CACd,EAAAC,GAAG;;;;;;;OA3DL,IAAC,IAAA1C,UAAS,CAAE/E,KAAMgF,S,yDAGlB,IAAC,IAAAD,UAAS,CAAE/E,KAAMgF,S,yDAGlB,IAAC,IAAAD,UAAS,CAAE/E,KAAM4B,S,kDAGlB,IAAC,IAAAmD,UAAS,CAAE/E,KAAM2C,S,gBACsB,mB,EAAA,oBAArB+E,uBAAAA,uBAAqB,W,gCAExC,IAAC,IAAA3C,UAAS,CAAE/E,KAAM2H,Q,sDAGlB,IAAC,IAAA5C,UAAS,CAAE/E,KAAM2H,Q,sDAGlB,IAAC,IAAA5C,UAAS,CAAE/E,KAAM2H,Q,sDAiBlB,IAAC,IAAA5C,Y,0DAtCUI,EAAY,IADxB,IAAAD,eAAc,kB,2BACFC,E,oiBCFN,IAAMyC,EAAN,cAA0B,EAAAlE,WAA1B,c,oBAGE,KAAAmE,KAAe,GAGf,KAAAC,MAAgB,GAGhB,KAAAC,UAAoB,EAGpB,KAAA9E,MAAgB,IAGhB,KAAA+E,WAAsB7D,KAAK4D,QA6CpC,CAnCE,MAAAxD,GACE,OAAO,EAAAT,IAAI;;6DAE8CK,KAAK2D;YACtD3D,KAAK8D;uCACsB9D,KAAK0D,aAAa1D,KAAK0D,gBAAgB1D,KAAK4D,SAAU,KAAM;;;KAIjG,CAEA,UAAY,GACV,OAAI5D,KAAK4D,SACA,EAAAjE,IAAI;qCACoBK,KAAK0D,oBAAoB1D,KAAK0D,4BAA4B1D,KAAK2D,kBAAkB3D,KAAK+D;QAG9G,EAAApE,IAAI;4BACWK,KAAK0D,oBAAoB1D,KAAK0D,4BAA4B1D,KAAK2D,kBAAkB3D,KAAK+D;OAGhH,CAEQ,YAAAA,CAAaC,GAEnBhE,KAAK6D,WAAaG,EAAkBC,OAAOL,SAE3C5D,KAAKkE,iBAAiB,UAAYlE,KAAK0D,KAAO,MAAMS,SAASC,IAC3DA,EAAMtF,MAAQkB,KAAK6D,WAAY,KAAM,KAAK,GAE9C,CAEA,gBAAAlD,GACE,OAAOX,IACT,GA1CO,EAAAqD,OAAS,CACd,EAAAC,GAAG;;;;OAhBL,IAAC,IAAA1C,UAAS,CAAE/E,KAAM4B,S,oDAGlB,IAAC,IAAAmD,UAAS,CAAE/E,KAAM4B,S,qDAGlB,IAAC,IAAAmD,UAAS,CAAE/E,KAAMiF,U,yDAGlB,IAAC,IAAAF,UAAS,CAAE/E,KAAM4B,S,qDAGlB,IAAC,IAAAmD,UAAS,CAAE/E,KAAMiF,U,2DAdP2C,EAAW,IADvB,IAAA1C,eAAc,iBACF0C,E,8nBCQN,IAAMY,EAAN,cAA2C,EAAA9E,WAChD,WAAAC,GACEC,QAmBM,KAAA6E,WAAqB,EAGrB,KAAAC,mBAA6B,CArBrC,CAuBM,iBAAArE,G,uHACJ,EAAMA,kBAAiB,YACvB,IAAAsE,YAAWrH,MAAK,IAAM6C,KAAKsE,WAAY,UACjC,IAAAxG,YAAWkC,KAAKrE,MAAOqE,KAAKyE,IAAK,oBACzC,E,+RAEA,oBAAAtE,GAAyB,CAEzB,MAAAC,G,MACE,GAAIJ,KAAKsE,UAAW,CAClB,GAAiC,QAA7B,OAAAI,sCAA6B,eAAEC,gBAAgBC,QACjD,OAAO,EAAAjF,IAAI,0DAIb,GAFAK,KAAKuE,mBAAoB,IAAAM,sBAAqB,EAAAC,UAAUC,0BAEnD,IAAAC,4BAA2B,CAACC,OAAQ,EAAAH,UAAUC,uBAAwBG,SAAU,SAAS,GAC5F,OAAO,EAAAvF,IAAI,qD,CAGf,OAAO,EAAAA,IAAI;;gDAEiCK,KAAKmF;;KAGnD,CAEA,YAAAzE,GAAiB,CAEjB,gBAAAC,GACE,OAAOX,IACT,GA7CA,IAAC,IAAAY,UAAS,CAAE/E,KAAM4B,S,qDAGlB,IAAC,IAAAmD,UAAS,CAAE/E,KAAMgF,S,mDAGlB,IAAC,IAAAD,UAAS,CAAE/E,KAAMgF,S,wDAGlB,IAAC,IAAAD,UAAS,CAAE/E,KAAMiF,U,0DAGlB,IAAC,IAAAF,UAAS,CAAE/E,KAAMiF,U,kEAvBPuD,EAA4B,IADxC,IAAAtD,eAAc,mC,2BACFsD,E,k7BCSN,IAAMe,EAAN,cAAqC,EAAA7F,WAC1C,WAAAC,GAAgBC,QAGT,KAAA4F,UAAoB,EAGpB,KAAAC,MAAwB,GAGvB,KAAAnH,oBAA4CoH,EAG5C,KAAAC,eAA0B,CAZT,CAiBnB,iBAAAtF,G,2HACJ,EAAMA,kBAAiB,WACvBF,KAAK7B,gBAAiB,IAAAA,iBACxB,G,CAEA,oBAAAgC,GAAyB,CAOzB,MAAAC,GACE,OAAO,EAAAT,IAAI,GAAGK,KAAKyF,UACrB,CAEA,YAAYA,GACV,OAAO,EAAA9F,IAAI,GAAGK,KAAKuC,OACrB,CAEA,YAAA7B,GAEA,CAEA,kBAAYgF,GACV,MAAO,CACL,CAAEzD,MAAO,YACT,CAAEA,MAAO,QAEb,CAEA,eAAY0D,GACV,MAAO,EACT,CAEA,eAAYC,GACV,MAAO,CACL,CAAE3D,MAAO,YACT,CAAEA,MAAO,QAEb,CAEA,SAAYM,GACV,MAAMsD,EAAc7F,KAAK6F,cACzB,IAAI/C,EAAyC,CAAC,EAC9C,MAAMgD,GAAc,IAAAC,0BAEpB,OADAjD,EAAWkD,cAAgB,SAAWF,EAAY3J,MAC3C,EAAAwD,IAAI;oCACqBkG,mBAA6B/C,iBAA0B9C,KAAK2F;oBAC5E3F,KAAK4F,0BAA0B5F,KAAK0F;KAEtD,CAEQ,WAAAG,GAmFN,MA9EuC,CACrC,MAAS,CAAC,CAAC,EAAG,SACd,YAAc,EACd,YAAc,EACd,KAAQ,CACN/J,IARI,EAAAC,UAAUC,KAAKC,qBAAuB,qDAS1CgK,QAAS,OACTC,QAAS,cAEX,QAAW,CACT,CACEC,KAAM,KACN/F,OAAQ,SAAU+F,EAAWtK,EAAWsG,GAEtC,MAAO,GAAGA,EAAIuB,iBAAiB,EAAA3H,UAAUC,KAAKoK,gDAAgDjE,EAAIpE,gBACpG,EACAsI,WAAW,GAEb,CACEF,KAAM,OACN/F,OAAQ,SAAU+F,EAAWtK,EAAWsG,GACtC,OAAuB,IAAbA,EAAItG,KAAY,UAAW,OACvC,EACAwK,WAAW,IAIf,WAAc,CACZ,CACEC,QAAS,CAAC,QACVC,UAAW,uBAEXC,WAAY,CACVC,WAAW,KAIjB,WAAc,CAAC,GAAI,GAAI,GAAI,IAAK,IAAK,KACrC,aAAgB,SAAgBlG,G,yCACfA,EAAEmG,MAkBnB,G,EACA,YAAc,EACd,IAAO,UACPC,QAAS,CACP,WACA,iBACA,YACA,aACA,aACA,gBACA,cACA,MACA,QACA,OACA,OAEFC,QAAQ,EAMZ,CAEA,gBAAAjG,GACE,OAAOX,IACT,GAvIO,EAAAqD,OAAS,CACd,EAAAC,GAAG;;KAtBL,IAAC,IAAA1C,UAAS,CAAE/E,KAAMgF,S,yDAGlB,IAAC,IAAAD,UAAS,CAAE/E,KAAM2H,Q,gBACE,mB,EAAA,oBAALA,OAAAA,OAAK,W,4BAEpB,IAAC,IAAA5C,UAAS,CAAE/E,KAAM2C,S,8DAGlB,IAAC,IAAAoC,UAAS,CAAE/E,KAAMgF,S,8DAGlB,IAAC,IAAAjC,OAAM,2B,gBACmC,mB,EAAA,oBAAPiI,SAAAA,SAAO,W,gDAhB/BzB,EAAsB,IADlC,IAAArE,eAAc,6B,2BACFqE,E","sources":["webpack://webpackNumbers/webpack/universalModuleDefinition","webpack://webpackNumbers/./src/addons/functions/login/main.ts","webpack://webpackNumbers/./src/addons/functions/url_query_params/index.ts","webpack://webpackNumbers/./src/addons/widgets/add_remove_widget/index.ts","webpack://webpackNumbers/./src/addons/widgets/datatables/index.ts","webpack://webpackNumbers/./src/addons/widgets/form/new/switch.ts","webpack://webpackNumbers/./src/view/attendance/setup/schedules/index.ts","webpack://webpackNumbers/./src/view/attendance/setup/schedules/views/all.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"webpackNumbers\"] = factory();\n\telse\n\t\troot[\"webpackNumbers\"] = factory();\n})(self, () => {\nreturn ","import { CONSTANTS } from \"@@addons/constants\";\r\nimport { http } from \"@@addons/functions/https/http\";\r\nimport { base64Decode, base64Encode } from \"@@addons/functions/base64\";\r\nimport { get_cookie, set_cookies, set_cookies_minutes } from \"@@addons/functions/cookies\";\r\nimport { LoginTokenType_I, } from '@@addons/interfaces/network_calls/login/login_token';\r\n\r\nconst get_differences = (date: Date) => {\r\n  const now = new Date();\r\n  const msBetweenDates = Math.abs(date.getTime() - now.getTime());\r\n  const hoursBetweenDated = msBetweenDates / (60 * 60 * 1000);\r\n  // console.log({ msBetweenDates, hoursBetweenDated, });\r\n  if (hoursBetweenDated < 24) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\nexport const verifyToken = async (email: string, _id_: string, type: LoginTokenType_I) => {\r\n  const url = CONSTANTS.URLS.AKWAABA_API_BASE_URL + 'clients/verify-token',\r\n    cookieName = type,\r\n    token = get_cookie(cookieName),\r\n    userInfo = JSON.stringify({ \"token\": base64Decode(token) }),\r\n    formData = userInfo;\r\n  const cookieDate = new Date(get_cookie(cookieName + \"_date\"));\r\n  // console.log({ \"force_check, now\": get_differences(cookieDate) });\r\n  const force_check = get_differences(cookieDate);\r\n\r\n  if (!force_check) {\r\n    await http(url, {\r\n      method: \"POST\",\r\n      body: formData,\r\n    }, true).then(async (response) => {\r\n      // console.log({ response: response });\r\n      if (response.jsonData.token & response.jsonData.user & response.jsonData.expiry) {\r\n        // console.log({\"valid token\": true, \"response.jsonData.token\": response.jsonData.token})\r\n        const token = base64Encode(String(response.jsonData.token));\r\n        set_cookies(cookieName, token, 10);\r\n        set_cookies_minutes(cookieName + \"_date\", new Date().toUTCString(), 10);\r\n        // console.log({ \"response.token\": response.token });\r\n      } else {\r\n        // console.log({\"valid token\": false, \"response.jsonData.token\": response.jsonData.token})\r\n        await generateNewToken(email, _id_, type);\r\n      }\r\n    });\r\n  } else {\r\n    return token;\r\n  }\r\n}\r\n\r\nconst generateNewToken = async (email: string, _id_: string, type: LoginTokenType_I) => {\r\n  const url = CONSTANTS.URLS.AKWAABA_API_BASE_URL + 'clients/login-id',\r\n    cookieName = type,\r\n    userInfo = JSON.stringify({ \"email\": email, \"id\": _id_ }),\r\n    formData = userInfo;\r\n\r\n  await http(url, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  }, true).then((response) => {\r\n    // console.log({ response: response });\r\n    if (response.jsonData.token) {\r\n      const token = base64Encode(String(response.jsonData.token));\r\n      set_cookies(cookieName, token, 10);\r\n      set_cookies_minutes(cookieName + \"_date\", new Date().toUTCString(), 10);\r\n      // console.log({ \"response.token\": response.token });\r\n    }\r\n\r\n  });\r\n}\r\nexport const tokenLogin = async (email: string, id: Number, type: LoginTokenType_I) => {\r\n  const _id_ = base64Encode(String(id)),\r\n    cookieName = type;\r\n  // console.log({\"_id__id__id_\": _id_});\r\n  // console.log({ email, id });\r\n  // @ts-ignore\r\n  window['supersecret'] = { unknowable: { ops: { email: email, id: _id_, cookieName: cookieName } } };\r\n  const _get_cookie = get_cookie(cookieName);\r\n  // console.log({ _get_cookie });\r\n\r\n  if (_get_cookie == '') {\r\n    await generateNewToken(email, _id_, type);\r\n  } else {\r\n    await verifyToken(email, _id_, type);\r\n  }\r\n};","export const urlQueryParams = () => {\r\n  const urlSearchParams = new URLSearchParams(window.location.search);\r\n  const params = Object.fromEntries(urlSearchParams.entries());\r\n\r\n  return params;\r\n}\r\nexport const urlQueryParamsGet = (query: string) => {\r\n  const urlSearchParams = new URLSearchParams(window.location.search);\r\n  const params = Object.fromEntries(urlSearchParams.entries());\r\n  let value: string = null;\r\n  for (const key in params) {\r\n    if (key === query) {\r\n      value = params[key]\r\n    }\r\n  }\r\n  return value;\r\n}\r\nexport const urlQueryParamsGetAll = (query: string) => {\r\n  const urlSearchParams = new URLSearchParams(window.location.search);\r\n  const params = urlSearchParams.getAll(query);\r\n  return params;\r\n}\r\n\r\nexport const urlQueryParamsJoin = (object:{\r\n  [k: string]: string;\r\n}) => {\r\n  let urlStr: string = \"\";\r\n  let index = 0;\r\n  for (const key in object) {\r\n    index += 1; \r\n    urlStr += `${(index > 1) ? \"&\": \"\"}${key}=${object[key]}`;\r\n  }\r\n  return urlStr;\r\n}","import { LitElement, html, nothing, TemplateResult, } from 'lit';\r\nimport { customElement, property, } from 'lit/decorators.js';\r\nimport '@material/mwc-button';\r\nimport '@material/mwc-icon-button';\r\nimport '@material/mwc-select';\r\nimport '@material/mwc-list';\r\nimport '@material/mwc-dialog';\r\nimport '@material/mwc-textfield';\r\nimport { stringToHTML } from '@@addons/functions/stringToHTML';\r\n\r\n\r\n@customElement(\"multiple-widgets\")\r\nexport class MultipleWidgets extends LitElement {\r\n  constructor() { super(); }\r\n\r\n  @property({ type: Number })\r\n  public index?: number = 0;\r\n\r\n  // @property({ type: String })\r\n  // public widget?: string = '';\r\n\r\n  // @property({ type: Object })\r\n  // public widget?: TemplateResult<1> = html``;\r\n\r\n  private _widget: TemplateResult<1> = html``;\r\n\r\n  public set widget(value: TemplateResult<1>) {\r\n    this._widget = value;\r\n    this.requestUpdate();\r\n  }\r\n\r\n  public get widget(): TemplateResult<1> {\r\n    return this._widget;\r\n  }\r\n\r\n  @property({ type: Boolean })\r\n  public no_delete?: boolean = false;\r\n\r\n  @property({ type: Boolean })\r\n  public single?: boolean = false;\r\n\r\n  @property({ type: String })\r\n  public _single?: string = '[]';\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n\r\n    // console.log({ \"fetchTypes\": this.fetchTypes });\r\n    if (this.single) {\r\n      this._single = '';\r\n    } else {\r\n      this._single = '[]';\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n\r\n  render() {\r\n    return html`\r\n      <div class=\"container\">\r\n        <header class=\"form-input-container\">\r\n          ${this.no_delete ? nothing : html`\r\n            <mwc-icon-button icon=\"delete_forever\" class=\"danger\"\r\n              @click=\"${this.deleteQuestion}\"></mwc-icon-button>`\r\n          }\r\n        </header>\r\n        <main>\r\n          ${this.widget}\r\n        </main>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private deleteQuestion(e: { preventDefault: () => void; }) {\r\n    e.preventDefault();\r\n\r\n    this.remove();\r\n  }\r\n\r\n  async firstUpdated() {}\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n","import { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js';\r\nimport '../../interfaces/datatables';\r\nimport \"../../../assets/styles/views/datatable/main.scss\";\r\n// import * as $ from 'jquery'\r\nimport { CONSTANTS } from '@@addons/constants';\r\n\r\n@customElement('datatables-new')\r\nexport class _DATATABLES_ extends LitElement {\r\n  constructor() { super(); }\r\n\r\n  @property({ type: Number })\r\n  private randomID1: number = Math.floor(Math.random() * 12345);\r\n\r\n  @property({ type: Number })\r\n  private randomID2: number = Math.floor(Math.random() * 678910);\r\n\r\n  @property({ type: String })\r\n  private ID: string = \"datatable\";\r\n\r\n  @property({ type: Object })\r\n  public datatable?: DataTables_Settings_I;\r\n\r\n  @property({ type: Array })\r\n  public dt_head?: DataTables_ColumnSettings_I[];\r\n\r\n  @property({ type: Array })\r\n  public dt_foot?: DataTables_ColumnSettings_I[];\r\n\r\n  @property({ type: Array })\r\n  public dt_body?: DataTables_ColumnSettings_I[][];\r\n\r\n  private _init?: DataTables_Api_I<any>;\r\n\r\n  public set init(value: DataTables_Api_I<any>,) {\r\n    \r\n    let oldVal = this._init;\r\n    this._init = value;\r\n    console.log(\"public set init\", {oldVal, value});\r\n    this.requestUpdate(\"init\", oldVal);\r\n  }\r\n\r\n  public get init(): DataTables_Api_I<any> {\r\n    return this._init;\r\n  }\r\n\r\n  @property()\r\n  public ajaxHeader?: any;\r\n\r\n  // public _ajaxHeader: any = null;\r\n\r\n  // public set ajaxHeader(value: any) {\r\n  //   this._ajaxHeader = value;\r\n  //   this.requestUpdate();\r\n  // }\r\n\r\n  // public get ajaxHeader(): any {\r\n  //   return this._ajaxHeader;\r\n  // }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n\r\n    // console.log({\"ajaxHeader\": this.ajaxHeader})\r\n\r\n    this.ID = this.randomID1 + \"-\" + this.ID + \"-\" + this.randomID2;\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n  static styles = [\r\n    css`\r\n      :host { display: block; }\r\n      input, select {\r\n        box-shadow: 0 0 0 1px !important;\r\n        padding: 2.5px !important;\r\n        margin: 2.5px !important;\r\n      }\r\n    `\r\n  ];\r\n\r\n  render() {\r\n    // console.log({\"this.ID\": this.ID, \"datatable\": this.datatable});\r\n    return html`\r\n    <table  class=\"align-middle mb-0 table table-borderless table-striped table-hover\" style=\"width:100%\" datatable=\"${this.ID}\">\r\n      <thead>\r\n        <tr>\r\n          ${this.thead()}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n          ${this.tbody()}\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          ${this.tfoot()}\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n  `;\r\n  }\r\n\r\n  private thead() {\r\n    return html`\r\n      ${this.dt_head.map(head => {\r\n        // console.log({\"headhead\": head});\r\n        \r\n        return html`<th>${head.title}</th>`\r\n      })}\r\n    `;\r\n  }\r\n\r\n  private tbody() {\r\n    return html`\r\n      ${this.dt_body.map(row => {\r\n        // console.log({\"bodybody1\": row});\r\n        \r\n        return html`<tr>${row.map(column => {\r\n          // console.log({\"bodybody2\": column});\r\n          \r\n          return html`<td>${column.title}</td>`\r\n        })}</tr>`\r\n      })}\r\n    `;\r\n  }\r\n\r\n  private tfoot() {\r\n    return html`\r\n    ${this.dt_foot.map(foot => {\r\n      return html`<th>${foot.title}</th>`\r\n    })}\r\n    `;\r\n  }\r\n\r\n  firstUpdated() {\r\n    const table = this.querySelector('[datatable=\"'+this.ID+'\"]');\r\n    \r\n    if (typeof this.datatable.ajax === \"object\") {\r\n      let AJAX = this.datatable.ajax;\r\n      // console.log({ \"typeof AJAX\": typeof AJAX });\r\n      AJAX.headers = {\r\n        \"Access-Control-Allow-Origin\": \"*/*\",\r\n        \"Accept\": \"application/json, text/plain, */*\"\r\n      };\r\n      let _headers = AJAX.headers;\r\n      // for (const header in this.ajaxHeader) {\r\n      //   // console.log({header})\r\n      //   // @ts-ignore\r\n      //   _headers[header] = this.ajaxHeader[header];\r\n      // }\r\n      // console.log({ \"this.ajaxHeader\": this.ajaxHeader })\r\n      for (const key in this.ajaxHeader) {\r\n        if (Object.prototype.hasOwnProperty.call(this.ajaxHeader, key)) {\r\n          const element = this.ajaxHeader[key];\r\n          _headers[key] = element;\r\n        }\r\n      }\r\n      // console.log({ \"_headers\": _headers, $ })\r\n      // for (const iterator of this.ajaxHeader) {\r\n      //   // @ts-ignore\r\n      //   _headers[iterator] = this.ajaxHeader.get(iterator);\r\n      // }\r\n      AJAX.headers = _headers;\r\n      this.datatable.ajax = AJAX;\r\n      // console.log({\"this.datatable\": this.datatable, \"$\": $})\r\n    }\r\n    // console.log({$, table, \"this.datatable\": this.datatable});\r\n    \r\n    // @ts-ignore\r\n    $(table).DataTable(this.datatable);\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n","import { LitElement, html, css } from 'lit';\r\nimport { customElement, property } from 'lit/decorators.js';\r\nimport '@material/mwc-formfield';\r\nimport '@material/mwc-switch';\r\n\r\n@customElement('switch-input')\r\nexport class SwitchInput extends LitElement {\r\n\r\n  @property({ type: String })\r\n  public name: string = \"\";\r\n\r\n  @property({ type: String })\r\n  public label: string = \"\";\r\n\r\n  @property({ type: Boolean })\r\n  public selected: boolean = false;\r\n\r\n  @property({ type: String })\r\n  public value: string = \"1\";\r\n\r\n  @property({ type: Boolean })\r\n  public isSelected: boolean = this.selected;\r\n\r\n  static styles = [\r\n    css`\r\n      :host {\r\n        display: block;\r\n      }\r\n    `\r\n  ];\r\n\r\n  render() {\r\n    return html`\r\n      <div class=\"w-full !py-4 px-2 !flex !justify-between border border-gray-400 rounded-md\">\r\n        <mwc-formfield class=\"w-full text-gray-400\" label=\"${this.label}\" alignEnd spaceBetween>\r\n          ${this.switch}\r\n          <input type=\"hidden\" name=\"${this.name}\" id=\"${this.name}\" value=\"${this.selected? 'on': 'off'}\" />\r\n        </mwc-formfield>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private get switch() {\r\n    if (this.selected) {\r\n      return html`\r\n        <mwc-switch selected name=\"${this.name}-switch\" id=\"${this.name}-switch\"  ariaLabel=\"${this.label}\" @click=\"${this.switchAction}\"></mwc-switch>\r\n      `;\r\n    } else {\r\n      return html`\r\n        <mwc-switch name=\"${this.name}-switch\" id=\"${this.name}-switch\"  ariaLabel=\"${this.label}\" @click=\"${this.switchAction}\"></mwc-switch>\r\n      `;\r\n    }\r\n  }\r\n\r\n  private switchAction(switchActionEvent: { target: { selected: boolean; value: string; }; }) {\r\n    // console.log({switchActionEvent});\r\n    this.isSelected = switchActionEvent.target.selected;\r\n    // console.log({\"this.isSelected\": this.isSelected});\r\n    this.querySelectorAll('[name=\"' + this.name + '\"]').forEach((input: HTMLInputElement) => {\r\n      input.value = this.isSelected? \"on\": \"off\";\r\n    })\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n","import '@@assets/styles/views/attendance/setup/form.scss';\r\nimport '@@views/no_access/account_expired';\r\nimport '@@views/no_access/no_page_entry';\r\nimport { tokenLogin } from \"@@addons/functions/login/main\";\r\nimport { LitElement, html, css } from 'lit';\r\nimport { customElement, property, query, queryAll } from 'lit/decorators.js';\r\nimport './views/all';\r\nimport { AppSetup } from '@@addons/functions/app_settings';\r\nimport { getAppSettingsExtraSettings } from '@@addons/functions/app_settings/extra_settings';\r\nimport { PageButtonUserAccess, AppSettingsExtraUserAccess } from '@@addons/functions/app_settings/extra_settings/user_access';\r\nimport { PAGE__IDS } from '@@views/attendance/page__id';\r\n\r\n\r\n@customElement(\"attendance-setup-view-schedules\")\r\nexport class AttendanceSetupViewSchedules extends LitElement {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  //  @query(identifier)\r\n  //  private _identifier?: any;\r\n\r\n  //  @queryAll(identifier)\r\n  //  private _identifier?: any;\r\n\r\n  @property({ type: String })\r\n  public email?: string;\r\n\r\n  @property({ type: Number })\r\n  public mId?: number;\r\n\r\n  @property({ type: Number })\r\n  public clientId?: number;\r\n\r\n  @property({ type: Boolean })\r\n  private _hasSetup: boolean = false;\r\n\r\n  @property({ type: Boolean })\r\n  private _pageButtonAccess: boolean = false;\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n    AppSetup().then(() => this._hasSetup = true);\r\n    await tokenLogin(this.email, this.mId, \"client_tokenLogin\");\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n\r\n  render() {\r\n    if (this._hasSetup) {\r\n      if (getAppSettingsExtraSettings()?.expiration_date.expired) {\r\n        return html`<account-expired-component></account-expired-component>`;\r\n      }\r\n      this._pageButtonAccess = PageButtonUserAccess(PAGE__IDS.schedule_meeting_event);\r\n      \r\n      if (!AppSettingsExtraUserAccess({pageId: PAGE__IDS.schedule_meeting_event, viewType: \"View\"}, false)) {\r\n        return html`<no-page-entry-component></no-page-entry-component>`;\r\n      }\r\n    }\r\n    return html`\r\n      <div class=\"shadow bg-white p-2 my-2\">\r\n        <attendance-setup-view-all CLIENT_ID=\"${this.clientId}\"></attendance-setup-view-all>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  firstUpdated() { }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n\r\n\r\n","import '@@assets/styles/views/widget/simple-table/main.scss';\r\nimport { LitElement, html, css, TemplateResult } from 'lit';\r\nimport { customElement, property, query, queryAll } from 'lit/decorators.js';\r\nimport { until } from 'lit/directives/until.js';\r\nimport '@material/mwc-button';\r\n// import '@material/mwc-select';\r\n// import '@material/mwc-textarea';\r\n// import '@material/mwc-textfield';\r\nimport '@material/mwc-circular-progress';\r\nimport '@@addons/widgets/form/new/switch';\r\nimport '@@addons/widgets/add_remove_widget';\r\n// import '@material/mwc-dialog';\r\nimport '@@widgets/datatables';\r\nimport '@@interfaces/datatables';\r\nimport { urlQueryParams, urlQueryParamsGet } from '@@addons/functions/url_query_params';\r\nimport '@@addons/widgets/form/new/select';\r\nimport { CONSTANTS } from '@@addons/constants';\r\nimport { base64Decode } from '@@addons/functions/base64';\r\nimport { get_cookie } from '@@addons/functions/cookies';\r\nimport { getUserLoginInfoCookie } from '@@addons/functions/login';\r\n\r\n\r\n@customElement(\"attendance-setup-view-all\")\r\nexport class AttendanceSetupViewAll extends LitElement {\r\n  constructor() { super(); }\r\n\r\n  @property({ type: Number })\r\n  public CLIENT_ID: number = 0;\r\n\r\n  @property({ type: Array })\r\n  public _data?: Array<string> = [];\r\n\r\n  @property({ type: Object })\r\n  private urlQueryParams?: { [k: string]: string; } = undefined;\r\n\r\n  @property({ type: Number })\r\n  private meetingEventId?: number = 0;\r\n\r\n  @query('[show-adminField=\"all\"]')\r\n  private showAdminFieldAllSelector: Element;\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n    this.urlQueryParams = urlQueryParams();\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n  static styles = [\r\n    css`\r\n   :host { display: block; }\r\n  `\r\n  ];\r\n\r\n  render() {\r\n    return html`${this.schedule}`;\r\n  }\r\n\r\n  private get schedule() {\r\n    return html`${this.table}`;\r\n  }\r\n\r\n  firstUpdated() {\r\n    \r\n  }\r\n\r\n  private get __tableHeaders(): DataTables_ColumnSettings_I[] {\r\n    return [\r\n      { title: 'Schedule', },\r\n      { title: 'Type', },\r\n    ];\r\n  }\r\n\r\n  private get __tableBody(): DataTables_ColumnSettings_I[][] {\r\n    return [];\r\n  }\r\n\r\n  private get __tableFoot(): DataTables_ColumnSettings_I[] {\r\n    return [\r\n      { title: 'Schedule', },\r\n      { title: 'Type', },\r\n    ];\r\n  }\r\n\r\n  private get table(): TemplateResult {\r\n    const __dataTable = this.__dataTable();\r\n    let ajaxHeader: { Authorization?: string } = {};\r\n    const _get_cookie = getUserLoginInfoCookie();\r\n    ajaxHeader.Authorization = \"Token \" + _get_cookie.token;\r\n    return html`\r\n      <datatables-new .datatable=\"${__dataTable}\" .ajaxHeader=\"${ajaxHeader}\"  .dt_body=\"${this.__tableBody}\"\r\n        .dt_foot=\"${this.__tableFoot}\" .dt_head=\"${this.__tableHeaders}\"></datatables-new>\r\n    `;\r\n  }\r\n\r\n  private __dataTable(): DataTables_Settings_I {\r\n    const __this = this,\r\n      url = CONSTANTS.URLS.AKWAABA_API_BASE_URL + 'attendance/meeting-event/schedule?datatable_plugin';\r\n\r\n    // console.log({ \"projects\": this._questionnaireResponses });\r\n    let dataTable: DataTables_Settings_I = {\r\n      'order': [[0, 'desc']],\r\n      'processing': true,\r\n      'serverSide': true,\r\n      'ajax': {\r\n        url: url,\r\n        dataSrc: 'data',\r\n        apiType: \"akwaabaApp\",\r\n      },\r\n      \"columns\": [\r\n        {\r\n          data: 'id',\r\n          render: function (data: any, type: any, row) {\r\n            // console.log({ data, type, row });\r\n            return `${row.name} <a href=\"${CONSTANTS.URLS.PDB_CLIENT}settings/schedule?meeting-event-id=${row.id}\"> Open </a>`;\r\n          },\r\n          orderable: true\r\n        },\r\n        {\r\n          data: 'type',\r\n          render: function (data: any, type: any, row) {\r\n            return `${row.type === 1? \"Meeting\": \"Event\"}`;\r\n          },\r\n          orderable: true\r\n        },\r\n\r\n      ],\r\n      'columnDefs': [\r\n        {\r\n          targets: ['_all'],\r\n          className: 'mdc-data-table__cell',\r\n          // @ts-ignore\r\n          checkboxes: {\r\n            selectRow: true\r\n          },\r\n        }\r\n      ],\r\n      'lengthMenu': [10, 25, 50, 100, 500, 1000],\r\n      \"drawCallback\": async function (e) {\r\n        const aoData = e.aoData;\r\n        // console.log({aoData})\r\n        // let newDatas[] = [];\r\n        // console.log(\"--------\", { e, aoData });\r\n        // aoData.forEach((data) => {\r\n        //   const DATA = data._aData;\r\n        //   console.log(\"--------\", { DATA });\r\n        //   let formatRawData = appQuestionnaireResponseStore.formatRawData(DATA);\r\n        //   // console.log({ formatRawData });\r\n        //   if (!newDatas.includes(formatRawData)) {\r\n        //     newDatas.push(formatRawData);\r\n        //   }\r\n        // });\r\n\r\n        // await appQuestionnaireResponseStore.removeAll();\r\n        // await appQuestionnaireResponseStore.makePost(newDatas, (postResponse) => {\r\n        //   // console.log({ postResponse });\r\n        // });\r\n      },\r\n      \"responsive\": true,\r\n      \"dom\": 'Blfrtip',\r\n      buttons: [\r\n        'selected',\r\n        'selectedSingle',\r\n        'selectAll',\r\n        'selectNone',\r\n        'selectRows',\r\n        'selectColumns',\r\n        'selectCells',\r\n        'pdf',\r\n        'excel',\r\n        'copy',\r\n        'csv',\r\n      ],\r\n      select: true,\r\n      // \"select\": {\r\n      //   \"style\": \"multi\"\r\n      // },\r\n    };\r\n    return dataTable;\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n"],"names":["root","factory","exports","module","define","amd","self","verifyToken","email","_id_","type","url","CONSTANTS","URLS","AKWAABA_API_BASE_URL","cookieName","token","get_cookie","formData","JSON","stringify","base64Decode","date","now","Date","Math","abs","getTime","get_differences","http","method","body","then","response","jsonData","user","expiry","base64Encode","String","set_cookies","set_cookies_minutes","toUTCString","generateNewToken","tokenLogin","id","window","unknowable","ops","urlQueryParams","urlSearchParams","URLSearchParams","location","search","Object","fromEntries","entries","urlQueryParamsGet","query","params","value","key","urlQueryParamsGetAll","getAll","urlQueryParamsJoin","object","urlStr","index","MultipleWidgets","LitElement","constructor","super","_widget","html","no_delete","single","_single","widget","this","requestUpdate","connectedCallback","disconnectedCallback","render","nothing","deleteQuestion","e","preventDefault","remove","firstUpdated","createRenderRoot","property","Number","Boolean","customElement","_DATATABLES_","randomID1","floor","random","randomID2","ID","init","oldVal","_init","console","log","thead","tbody","tfoot","dt_head","map","head","title","dt_body","row","column","dt_foot","foot","table","querySelector","datatable","ajax","AJAX","headers","_headers","ajaxHeader","prototype","hasOwnProperty","call","element","$","DataTable","styles","css","DataTables_Settings_I","Array","SwitchInput","name","label","selected","isSelected","switch","switchAction","switchActionEvent","target","querySelectorAll","forEach","input","AttendanceSetupViewSchedules","_hasSetup","_pageButtonAccess","AppSetup","mId","getAppSettingsExtraSettings","expiration_date","expired","PageButtonUserAccess","PAGE__IDS","schedule_meeting_event","AppSettingsExtraUserAccess","pageId","viewType","clientId","AttendanceSetupViewAll","CLIENT_ID","_data","undefined","meetingEventId","schedule","__tableHeaders","__tableBody","__tableFoot","__dataTable","_get_cookie","getUserLoginInfoCookie","Authorization","dataSrc","apiType","data","PDB_CLIENT","orderable","targets","className","checkboxes","selectRow","aoData","buttons","select","Element"],"sourceRoot":""}