{"version":3,"file":"../../production_public/assets/v2/dev-files/js/attendance/setup-form/view-agenda.js","mappings":"cAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAwB,eAAID,IAE5BD,EAAqB,eAAIC,GAC1B,CATD,CASGK,MAAM,K,2MCTF,MAAMC,EAAW,CAACC,EAAe,MAEtC,IAAIC,EAAM,IAAIC,KACZC,EAAOF,EAAIG,cACXC,EAASJ,EAAIK,WAAa,EAC1BC,EAAMN,EAAIO,UACVC,EAAOR,EAAIS,WACXC,EAAUV,EAAIW,aACdC,EAAUZ,EAAIa,aACdN,EAAUL,EAAO,IAAME,EAAQ,IAAME,EACrCQ,EAAUN,EAAO,IAAME,EAAU,IAAME,EAIzC,MAAO,CAAEd,SAHO,IAAIG,KAAKC,EAAME,EAAOE,EAAKE,EAAME,EAASE,GAG1BG,WAFnBR,EAAU,IAAMO,EAEyBE,SAD7Cd,EAAOE,EAAQE,EAAME,EAAOE,EAAUE,EACwB,EAG5DK,EAAc,CAAClB,EAAYmB,KACvB,IAAIjB,KAGP,IAAIA,KAFA,GAAGF,KAGNoB,eAAe,QAASD,G,2+BCDhC,IAAME,EAAN,cAA4C,EAAAC,WACjDC,cACEC,QAmBM,KAAAC,WAAqB,EAGrB,KAAAC,gBAA2B,EAG3B,KAAAC,eAA0B,EAG1B,KAAAC,mBAA6B,EAE7B,KAAAC,iBAAuC,IA7B/C,CA+BWC,oBAAgBC,GACzBC,KAAKH,iBAAmBE,EACxBC,KAAKC,eACP,CAEWH,sBACT,OAAOE,KAAKH,gBACd,CAEMK,oB,2HACJ,EAAMA,kBAAiB,WACvBF,KAAKG,oBACLH,KAAKI,sBACL,IAAAC,YAAWC,MAAK,IAAMN,KAAKP,WAAY,UAEjCO,KAAKO,6BACb,G,CAEAC,uBAAyB,CAEzBC,S,MACE,GAAIT,KAAKP,UAAW,CAClB,GAAiC,QAA7B,OAAAiB,sCAA6B,eAAEC,gBAAgBC,QACjD,OAAO,EAAAC,IAAI,0DAIb,GAFAb,KAAKJ,mBAAoB,IAAAkB,sBAAqB,EAAAC,UAAA,0BAEzC,IAAAC,4BAA2B,CAACC,OAAQ,EAAAF,UAAA,uBAAkCG,SAAU,SAAS,GAC5F,OAAO,EAAAL,IAAI,qD,CAGf,OAAO,EAAAA,IAAI;;;;;oBAKK,EAAAM,UAAA,wDAAkEnB,KAAKL,oCAAoCK,KAAKN;;;4BAGxGM,KAAKoB;;KAG/B,CAEYA,cAGV,OAA6B,OAAzBpB,KAAKF,gBACA,EAAAe,IAAI;;;;;;aAOuBQ,IAAzBrB,KAAKF,gBACP,EAAAe,IAAI;;;;;;;QASJ,EAAAA,IAAI;UACPb,KAAKsB;OAGb,CAEYA,qBACV,MAAMA,EAAiBtB,KAAKF,gBACtByB,GAAc,IAAArC,aAAYoC,EAAeC,YAAa,CAAEC,UAAW,WACzE,OAAO,EAAAX,IAAI;;;;;;;;;qDASsCU;;;;;;;;gBAQrCvB,KAAKyB;;;;;KAMnB,CAEYA,kCACV,MAAMH,EAAiBtB,KAAKF,gBAE5B,OADoB,IAAAZ,aAAYoC,EAAeC,YAAa,CAAEC,UAAW,WAClE,EAAAX,IAAI;;;;;;;;YAQ2B,OAA9BS,EAAeI,WAAqB,UAAW,EAAAb,IAAI,YAAYS,EAAeI;;;;;;;;;;6CAU7CJ,EAAeK;;;KAI1D,CAEAC,eACE5B,KAAK6B,iBAAiB,iCAAiCC,SAASC,IAC5C,IAAI,EAAAC,aAAaD,EAAS,GAIhD,CAEQ5B,oBACN,IAAIR,GAAiB,IAAAsC,mBAAkB,oBACnCC,EAAqC,OAAnBvC,EAA0BwC,OAAOxC,GAAkB,KACzEK,KAAKL,eAAiBwC,OAAOC,MAAMF,GAAmB,KAAOA,CAE/D,CAEQ9B,qBACN,IAAIV,GAAkB,IAAAuC,mBAAkB,qBACpCI,EAAuC,OAApB3C,EAA2ByC,OAAOzC,GAAmB,KAC5EM,KAAKN,gBAAkByC,OAAOC,MAAMC,GAAoB,KAAOA,CAEjE,CAEc9B,8B,yCACZ,MAAM+B,QAAyB,IAAAC,8BAC7BvC,KAAKN,gBAAiB,mBAAqBM,KAAKL,gBAKlD,GAAyB,OAArB2C,IAAmE,IAAtCA,EAAiBE,SAASC,QACzDzC,KAAKF,qBAAkBuB,OAEvB,GAAIiB,EAAiBE,SAASC,SAAW,SAAUH,EAAiBE,SAAU,CAC5E,MAAME,EAAQJ,EAAiBE,SAASG,KAClCA,EAAOC,MAAMC,QAAQH,IAAUA,EAAMI,OAAS,EAAIJ,EAAM,GAAKA,EACnE1C,KAAKF,gBAAkB,+BAAgCiD,KAAKC,UAAUL,G,CAG5E,G,CAEAM,mBACE,OAAOjD,IACT,GA/LA,IAAC,IAAAkD,UAAS,CAAEC,KAAMC,S,qDAGlB,IAAC,IAAAF,UAAS,CAAEC,KAAMhB,S,mDAGlB,IAAC,IAAAe,UAAS,CAAEC,KAAMhB,S,wDAGlB,IAAC,IAAAe,UAAS,CAAEC,KAAME,U,0DAGlB,IAAC,IAAAH,UAAS,CAAEC,KAAMhB,S,+DAGlB,IAAC,IAAAe,UAAS,CAAEC,KAAMhB,S,8DAGlB,IAAC,IAAAe,UAAS,CAAEC,KAAME,U,kEA7BPhE,EAA6B,IADzC,IAAAiE,eAAc,qC,2BACFjE,E","sources":["webpack://webpackNumbers/webpack/universalModuleDefinition","webpack://webpackNumbers/./src/addons/functions/date_time/index.ts","webpack://webpackNumbers/./src/view/attendance/setup/schedules/views/agenda/one.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"webpackNumbers\"] = factory();\n\telse\n\t\troot[\"webpackNumbers\"] = factory();\n})(self, () => {\nreturn ","export const dateTime = (date: string = \"\") => {\r\n  // new Date(date)\r\n  let now = new Date(),\r\n    year = now.getFullYear(),\r\n    month = (now.getMonth() + 1),\r\n    day = now.getDate(),\r\n    hour = now.getHours(),\r\n    minutes = now.getMinutes(),\r\n    seconds = now.getSeconds(),\r\n    getDate = year + '-' + month + '-' + day,\r\n    getTime = hour + \":\" + minutes + \":\" + seconds,\r\n    newDateTime = new Date(year, month, day, hour, minutes, seconds),\r\n    dateTime = getDate + ' ' + getTime,\r\n    code = year + month + day + hour + minutes + seconds;\r\n  return { dateTime: newDateTime, __string__: dateTime, __code__: code, };\r\n}\r\n\r\nexport const getDateTime = (date: Date, options?: Intl.DateTimeFormatOptions) => {\r\n  const __date = new Date(),\r\n    _DateString = `${date}`;\r\n  \r\n  let _date = new Date(_DateString);\r\n  return _date.toLocaleString('en-US', options);\r\n}","import '@@assets/styles/views/attendance/setup/form.scss';\r\nimport '@@assets/styles/views/widget/simple-table/main.scss';\r\nimport '@@views/no_access/account_expired';\r\nimport '@@views/no_access/no_page_entry';\r\nimport '@material/mwc-circular-progress';\r\nimport { MDCDataTable } from '@material/data-table';\r\nimport { LitElement, html, css } from 'lit';\r\nimport { customElement, property, query, queryAll } from 'lit/decorators.js';\r\nimport '@@views/attendance/setup/form/edit/links';\r\nimport { AppSetup } from '@@addons/functions/app_settings';\r\nimport { getAppSettingsExtraSettings } from '@@addons/functions/app_settings/extra_settings';\r\nimport { PageButtonUserAccess, AppSettingsExtraUserAccess } from '@@addons/functions/app_settings/extra_settings/user_access';\r\nimport { PAGE__IDS } from '@@views/attendance/page__id';\r\nimport { GET_AttendanceScheduleAgenda } from '@@addons/network/attendance/setup/agenda';\r\nimport { urlQueryParamsGet } from '@@addons/functions/url_query_params';\r\nimport { MeetingAgendaModel, Convert as mamConvert } from '@@addons/interfaces/attendance/agenda';\r\nimport { getDateTime } from '@@addons/functions/date_time';\r\nimport { CONSTANTS } from '@@addons/constants';\r\nimport \"@@addons/widgets/buttons/link-buttons/link-button\";\r\n\r\n@customElement(\"attendance-setup-form-view-agenda\")\r\nexport class AttendanceSetupFormViewAgenda extends LitElement {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  //  @query(identifier)\r\n  //  private _identifier?: any;\r\n\r\n  //  @queryAll(identifier)\r\n  //  private _identifier?: any;\r\n\r\n  @property({ type: String })\r\n  public email?: string;\r\n\r\n  @property({ type: Number })\r\n  public mId?: number;\r\n\r\n  @property({ type: Number })\r\n  public clientId?: number;\r\n\r\n  @property({ type: Boolean })\r\n  private _hasSetup: boolean = false;\r\n\r\n  @property({ type: Number })\r\n  private meetingAgendaId?: number = 0;\r\n\r\n  @property({ type: Number })\r\n  private meetingEventId?: number = 0;\r\n\r\n  @property({ type: Boolean })\r\n  private _pageButtonAccess: boolean = false;\r\n\r\n  private __scheduleAgenda: MeetingAgendaModel = null;\r\n\r\n  public set _scheduleAgenda(value: MeetingAgendaModel) {\r\n    this.__scheduleAgenda = value;\r\n    this.requestUpdate();\r\n  }\r\n\r\n  public get _scheduleAgenda(): MeetingAgendaModel {\r\n    return this.__scheduleAgenda;\r\n  }\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n    this.getMeetingEventId();\r\n    this.getMeetingAgendaId();\r\n    AppSetup().then(() => this._hasSetup = true);\r\n\r\n    await this.getAttendanceScheduleAgenda();\r\n  }\r\n\r\n  disconnectedCallback() { }\r\n\r\n  render() {\r\n    if (this._hasSetup) {\r\n      if (getAppSettingsExtraSettings()?.expiration_date.expired) {\r\n        return html`<account-expired-component></account-expired-component>`;\r\n      }\r\n      this._pageButtonAccess = PageButtonUserAccess(PAGE__IDS.schedule_meeting_event);\r\n      \r\n      if (!AppSettingsExtraUserAccess({pageId: PAGE__IDS.schedule_meeting_event, viewType: \"View\"}, false)) {\r\n        return html`<no-page-entry-component></no-page-entry-component>`;\r\n      }\r\n    }\r\n    return html`\r\n      <div class=\"shadow bg-white p-2 my-2\">\r\n        <attendance-setup-form-edit-links></attendance-setup-form-edit-links>\r\n        <div class=\"m-1 w-full flex justify-end\">\r\n          <link-button isblockcontent=\"false\" aClass=\"\" bClass=\"button warning mr-2\" raised\r\n            href=\"${CONSTANTS.URLS.PDB_CLIENT}settings/edit/agenda?meeting-event-id=${this.meetingEventId}&meeting-agenda-id=${this.meetingAgendaId}\"\r\n            label=\"Update\"></link-button>\r\n        </div>\r\n        <div class=\"mt-2\">${this.display}</div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private get display() {\r\n    // console.log({ \"this._scheduleAgenda\": this._scheduleAgenda });\r\n\r\n    if (this._scheduleAgenda === null) {\r\n      return html`\r\n        <div class=\"main-container\">\r\n          <div class=\"flex justify-center\">\r\n            <mwc-circular-progress indeterminate></mwc-circular-progress>\r\n          </div>\r\n        </div>\r\n      `;\r\n    } else if (this._scheduleAgenda === undefined) {\r\n      return html`\r\n        <div class=\"main-container\">\r\n          <div class=\"flex justify-center\">\r\n            <h4 class=\"text-red-600 text-lg\">\r\n              <span class=\"font-bold\">Meeting/Event Agenda</span>: undefined error</h4>\r\n          </div>\r\n        </div>\r\n      `;\r\n    } else {\r\n      return html`\r\n        ${this.scheduleAgenda}\r\n      `;\r\n    }\r\n  }\r\n\r\n  private get scheduleAgenda() {\r\n    const scheduleAgenda = this._scheduleAgenda;\r\n    const meetingDate = getDateTime(scheduleAgenda.meetingDate, { dateStyle: \"medium\",  });\r\n    return html`\r\n      <div class=\"mdc-data-table w-full\" mdc-data-table=\"data-table\">\r\n        <div class=\"mdc-data-table__table-container\">\r\n          <table class=\"mdc-data-table__table\" aria-label=\"New Meeting/ Event Agenda\">\r\n            <thead>\r\n              <tr class=\"mdc-data-table__header-row\">\r\n                <th class=\"mdc-data-table__header-cell\" role=\"columnheader\" scope=\"col\" aria-sort=\"ascending\">\r\n                  <div class=\"mdc-data-table__header-cell-wrapper\">\r\n                    <div class=\"mdc-data-table__header-cell-label\">\r\n                      <b>Meeting/ Event Agenda For ${meetingDate}</b>\r\n                    </div>\r\n                    <div class=\"mdc-data-table__sort-status-label\" aria-hidden=\"true\"></div>\r\n                  </div>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody class=\"mdc-data-table__content\">\r\n              ${this.getMeetingAttendanceAgendas}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private get getMeetingAttendanceAgendas() {\r\n    const scheduleAgenda = this._scheduleAgenda;\r\n    const meetingDate = getDateTime(scheduleAgenda.meetingDate, { dateStyle: \"medium\",  });\r\n    return html`\r\n      <tr class=\"mdc-data-table__row\">\r\n        <th class=\"mdc-data-table__cell whitespace-pre-line\" scope=\"row\">\r\n          <b>File</b>\r\n        </th>\r\n      </tr>\r\n      <tr class=\"mdc-data-table__row\">\r\n        <td class=\"mdc-data-table__cell !py-1\" scope=\"row\">\r\n          ${scheduleAgenda.attachment === null? \"No File\": html`<a href=\"${scheduleAgenda.attachment}\" target=\"_blank\">Open File</a>`}\r\n        </td>\r\n      </tr>\r\n      <tr class=\"mdc-data-table__row\">\r\n        <th class=\"mdc-data-table__cell whitespace-pre-line\" scope=\"row\">\r\n          <b>Agenda</b>\r\n        </th>\r\n      </tr>\r\n      <tr class=\"mdc-data-table__row\">\r\n        <td class=\"mdc-data-table__cell !py-1\" scope=\"row\">\r\n          <div class=\"whitespace-pre-wrap\">${scheduleAgenda.agenda}</div>\r\n        </td>\r\n      </tr>\r\n    `;\r\n  }\r\n\r\n  firstUpdated() {\r\n    this.querySelectorAll('[mdc-data-table=\"data-table\"]').forEach((selector) => {\r\n      const dataTable = new MDCDataTable(selector);\r\n\r\n      // console.log({ dataTable: dataTable })\r\n    });\r\n  }\r\n\r\n  private getMeetingEventId() {\r\n    let meetingEventId = urlQueryParamsGet('meeting-event-id');\r\n    let _meetingEventId = meetingEventId !== null ? Number(meetingEventId) : null;\r\n    this.meetingEventId = Number.isNaN(_meetingEventId) ? null : _meetingEventId;\r\n    // console.log({ \"this.urlQueryParams\": this.urlQueryParams, \"this.meetingEventId\": this.meetingEventId });\r\n  }\r\n\r\n  private getMeetingAgendaId() {\r\n    let meetingAgendaId = urlQueryParamsGet('meeting-agenda-id');\r\n    let _meetingAgendaId = meetingAgendaId !== null ? Number(meetingAgendaId) : null;\r\n    this.meetingAgendaId = Number.isNaN(_meetingAgendaId) ? null : _meetingAgendaId;\r\n    // console.log({ \"this.urlQueryParams\": this.urlQueryParams, \"this.meetingAgendaId\": this.meetingAgendaId });\r\n  }\r\n\r\n  private async getAttendanceScheduleAgenda() {\r\n    const _networkResponse = await GET_AttendanceScheduleAgenda<MeetingAgendaModel>(\r\n      this.meetingAgendaId, \"?meetingEventId=\" + this.meetingEventId\r\n    );   \r\n    // console.log({_networkResponse});\r\n    \r\n\r\n    if (_networkResponse === null || _networkResponse.response.success === false) {\r\n      this._scheduleAgenda = undefined;\r\n    } else {\r\n      if (_networkResponse.response.success && 'data' in _networkResponse.response) {\r\n        const _data = _networkResponse.response.data;\r\n        const data = Array.isArray(_data) && _data.length > 0 ? _data[0] : _data; \r\n        this._scheduleAgenda = mamConvert.toMeetingAgendaModel(JSON.stringify(data));\r\n      }\r\n    }\r\n  }\r\n\r\n  createRenderRoot() {\r\n    return this;\r\n  }\r\n}\r\n\r\n\r\n"],"names":["root","factory","exports","module","define","amd","self","dateTime","date","now","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","getTime","__string__","__code__","getDateTime","options","toLocaleString","AttendanceSetupFormViewAgenda","LitElement","constructor","super","_hasSetup","meetingAgendaId","meetingEventId","_pageButtonAccess","__scheduleAgenda","_scheduleAgenda","value","this","requestUpdate","connectedCallback","getMeetingEventId","getMeetingAgendaId","AppSetup","then","getAttendanceScheduleAgenda","disconnectedCallback","render","getAppSettingsExtraSettings","expiration_date","expired","html","PageButtonUserAccess","PAGE__IDS","AppSettingsExtraUserAccess","pageId","viewType","CONSTANTS","display","undefined","scheduleAgenda","meetingDate","dateStyle","getMeetingAttendanceAgendas","attachment","agenda","firstUpdated","querySelectorAll","forEach","selector","MDCDataTable","urlQueryParamsGet","_meetingEventId","Number","isNaN","_meetingAgendaId","_networkResponse","GET_AttendanceScheduleAgenda","response","success","_data","data","Array","isArray","length","JSON","stringify","createRenderRoot","property","type","String","Boolean","customElement"],"sourceRoot":""}